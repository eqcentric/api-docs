openapi: 3.0.0
info:
  title: Makini API
  description: Makini API
  version: '0.1'
  contact:
    name: Roman Kinyakin
    email: roman@makini.io
paths:
  /sites:
    get:
      summary: Display site list
      operationId: SiteSearch
      responses:
        '200':
          $ref: '#/components/responses/SiteResourceCollection'
  '/sites/{key}':
    get:
      summary: Display specified sites
      operationId: SiteGet
      responses:
        '200':
          $ref: '#/components/responses/SiteResourceItem'
  /assets:
    get:
      summary: Display assets list
      operationId: AssetSearch
      responses:
        '200':
          $ref: '#/components/responses/AssetResourceCollection'
    parameters: []
  '/assets/{key}':
    get:
      summary: Display specified assets
      operationId: AssetGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/AssetResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /work-orders:
    get:
      summary: Display work orders list
      operationId: WorkOrderSearch
      responses:
        '200':
          $ref: '#/components/responses/WorkOrderResourceCollection'
    post:
      summary: Create work orders
      operationId: WorkOrderCreate
      responses:
        '200':
          $ref: '#/components/responses/WorkOrderResourceItem'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  siteKey: ''
                  assetKey: ''
                  workRequestKey: ''
                  pmKey: ''
                  teamKey: ''
                  userAssignedKey: ''
                  userCompletedKey: ''
                  completedAt: ''
                  title: ''
                  description: ''
                  instructions: ''
                  status: ''
                  severity: ''
                  estimatedTime: ''
                  roleName: ''
                  categoryName: ''
                  documentKey: ''
                  documentPage: ''
                  notes: ''
                  approvedAt: ''
                  dueAt: ''
                  completionRemarks: ''
                  scheduledAt: ''
                  parts:
                    - partKey: ''
                      quantity: ''
              properties:
                siteKey:
                  type: string
                assetKey:
                  type: string
                workRequestKey:
                  type: string
                pmKey:
                  type: string
                teamKey:
                  type: string
                userAssignedKey:
                  type: string
                userCompletedKey:
                  type: string
                completedAt:
                  type: string
                title:
                  type: string
                description:
                  type: string
                instructions:
                  type: string
                status:
                  type: string
                severity:
                  type: string
                estimatedTime:
                  type: string
                roleName:
                  type: string
                categoryName:
                  type: string
                documentKey:
                  type: string
                documentPage:
                  type: string
                notes:
                  type: string
                approvedAt:
                  type: string
                dueAt:
                  type: string
                completionRemarks:
                  type: string
                scheduledAt:
                  type: string
                parts:
                  type: array
                  items:
                    type: object
                    properties:
                      partKey:
                        type: string
                      quantity:
                        type: string
              required:
                - siteKey
                - assetKey
                - title
                - status
                - scheduledAt
        description: ''
  '/work-orders/{key}':
    get:
      summary: Display specified work orders
      operationId: WorkOrderGet
      responses:
        '200':
          $ref: '#/components/responses/WorkOrderResourceItem'
  /parts:
    get:
      summary: Display part list
      operationId: PartSearch
      responses:
        '200':
          $ref: '#/components/responses/PartResourceCollection'
  '/parts/{key}':
    get:
      summary: Display specified parts
      operationId: PartGet
      responses:
        '200':
          $ref: '#/components/responses/PartResourceItem'
  /vendors:
    get:
      summary: Display vendor list
      operationId: VendorSearch
      responses:
        '200':
          $ref: '#/components/responses/VendorResourceCollection'
    parameters: []
  '/vendors/{key}':
    get:
      summary: Display specified vendors
      operationId: VendorGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/VendorResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /asset-downtime:
    get:
      summary: Display asset downtime list
      operationId: AssetDowntimeSearch
      responses:
        '200':
          $ref: '#/components/responses/AssetDowntimeResourceCollection'
    parameters: []
  '/asset-downtime/{key}':
    get:
      summary: Display specified asset downtime
      operationId: AssetDowntimeGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/AssetDowntimeResourceItem'
        '':
          $ref: '#/components/responses/AssetDowntimeResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /models:
    get:
      summary: Display model list
      operationId: ModelSearch
      responses:
        '200':
          $ref: '#/components/responses/ModelResourceCollection'
        '':
          $ref: '#/components/responses/ModelResourceCollection'
    parameters: []
  '/models/{key}':
    get:
      summary: Display specified models
      operationId: ModelGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/ModelResourceItem'
        '':
          $ref: '#/components/responses/AssetDowntimeResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /counters:
    get:
      summary: Display counter list
      operationId: CounterSearch
      responses:
        '200':
          $ref: '#/components/responses/CounterResourceCollection'
        '':
          $ref: '#/components/responses/CounterResourceCollection'
    parameters: []
  '/counters/{key}':
    get:
      summary: Display specified counters
      operationId: CounterGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/CounterResourceItem'
        '':
          $ref: '#/components/responses/CounterResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /counter-reading:
    get:
      summary: Display counter reading list
      operationId: CounterReadingSearch
      responses:
        '200':
          $ref: '#/components/responses/CounterReadingResourceCollection'
        '':
          $ref: '#/components/responses/CounterReadingResourceCollection'
    parameters: []
  '/counter-reading/{key}':
    get:
      summary: Display specified counter reading
      operationId: CounterReadingGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/CounterReadingResourceItem'
        '':
          $ref: '#/components/responses/CounterReadingResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /teams:
    get:
      summary: Display team list
      operationId: TeamSearch
      responses:
        '200':
          $ref: '#/components/responses/TeamResourceCollection'
        '':
          $ref: '#/components/responses/TeamResourceCollection'
    parameters: []
  '/teams/{key}':
    get:
      summary: Display specified teams
      operationId: TeamGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/TeamResourceItem'
        '':
          $ref: '#/components/responses/TeamResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  '/parts/{key}/inventory':
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
    post:
      summary: Update Part Inventory
      operationId: PartInventoryCreate
      responses:
        '200':
          $ref: '#/components/responses/PartResourceItem'
        '':
          $ref: '#/components/responses/PartResourceItem'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  code: ''
                  name: ''
                  quantity: ''
              properties:
                code:
                  type: string
                name:
                  type: string
                quantity:
                  type: string
              required:
                - quantity
  /work-request:
    get:
      summary: Display work request list
      operationId: WorkRequestSearch
      responses:
        '200':
          $ref: '#/components/responses/WorkRequestResourceCollection'
        '':
          $ref: '#/components/responses/WorkRequestResourceCollection'
    parameters: []
  '/work-request/{key}':
    get:
      summary: Display specified work request
      operationId: WorkRequestGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/WorkRequestResourceItem'
        '':
          $ref: '#/components/responses/WorkRequestResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /preventive-maintenance:
    get:
      summary: Display preventive maintenance list
      operationId: PreventiveMaintenanceSearch
      responses:
        '200':
          $ref: '#/components/responses/PreventiveMaintenanceResourceCollection'
        '':
          $ref: '#/components/responses/PreventiveMaintenanceResourceCollection'
    parameters: []
  '/preventive-maintenance/{key}':
    get:
      summary: Display specified preventive maintenance
      operationId: PreventiveMaintenanceGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/PreventiveMaintenanceResourceItem'
        '':
          $ref: '#/components/responses/PreventiveMaintenanceResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /documents:
    get:
      summary: Display document list
      operationId: DocumentSearch
      responses:
        '200':
          $ref: '#/components/responses/DocumentResourceCollection'
        '':
          $ref: '#/components/responses/DocumentResourceCollection'
    parameters: []
    post:
      summary: ''
      operationId: post-documents
      responses:
        '200':
          $ref: '#/components/responses/DocumentResourceItem'
      description: Upload a document file
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                file:
                  type: string
                  format: binary
              required:
                - name
                - file
        description: ''
  '/documents/{key}':
    get:
      summary: Display specified documents
      operationId: DocumentGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/DocumentResourceItem'
        '':
          $ref: '#/components/responses/DocumentResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /purchase-order:
    get:
      summary: Display purchase order list
      operationId: PurchaseOrderSearch
      responses:
        '200':
          $ref: '#/components/responses/PurchaseOrderResourceCollection'
        '':
          $ref: '#/components/responses/PurchaseOrderResourceItem'
    parameters: []
    post:
      summary: Create purchase order
      operationId: PurchaseOrderCreate
      responses:
        '200':
          $ref: '#/components/responses/PurchaseOrderResourceItem'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                siteKey:
                  type: string
                vendorKey:
                  type: string
                orderNo:
                  type: string
                orderDate:
                  type: string
                status:
                  type: string
                warehouseName:
                  type: string
                title:
                  type: string
                description:
                  type: string
                dueAt:
                  type: string
                shippingMethod:
                  type: string
                terms:
                  type: string
                notes:
                  type: string
                deliveryAddress:
                  type: string
                currency:
                  type: string
                lines:
                  type: array
                  items:
                    type: object
                    properties: {}
              x-examples:
                example-1:
                  siteKey: ''
                  vendorKey: ''
                  orderNo: ''
                  orderDate: ''
                  status: ''
                  warehouseName: ''
                  title: ''
                  description: ''
                  dueAt: ''
                  shippingMethod: ''
                  terms: ''
                  notes: ''
                  deliveryAddress: ''
                  currency: ''
                  lines: []
    put:
      summary: Update purchase order
      operationId: PurchaseOrderUpdate
      responses:
        '200':
          $ref: '#/components/responses/PurchaseOrderResourceItem'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  title: sms20
                  orderNo: '0000010699'
                  siteKey: 01db0000ef62028d122fa879e935821753d0751d
                  priority: null
                  vendorKey: 09db0000dd925ddf7b247dd02e1ee998a2795722
                  lines:
                    - assetKey: 02db0000a17280e58b23b54f9f7b12f735c3c76d
                      description: sms20-1
                      qty: 2
                      cost: 1
                      deliveryAt: null
                      status: 05_RECEIVEDBOAT
                      lineNo: 1
                      type: PART
                      vendorKey: 09db0000dd925ddf7b247dd02e1ee998a2795722
                      key: 05db00009d33142d1d3c6d8ec79b691de1314997
                    - partKey: false
                      description: Workwear Placeholder
                      qty: 1
                      cost: 2
                      deliveryAt: null
                      status: 05_RECEIVEDBOAT
                      lineNo: 2
                      type: PART
                      vendorKey: 09db0000dd925ddf7b247dd02e1ee998a2795722
              properties:
                title:
                  type: string
                orderNo:
                  type: string
                siteKey:
                  type: string
                priority:
                  nullable: true
                vendorKey:
                  type: string
                lines:
                  type: array
                  items:
                    type: object
                    properties:
                      assetKey:
                        type: string
                      description:
                        type: string
                      qty:
                        type: integer
                      cost:
                        type: integer
                      deliveryAt:
                        nullable: true
                      status:
                        type: string
                      lineNo:
                        type: integer
                      type:
                        type: string
                      vendorKey:
                        type: string
                      key:
                        type: string
                      partKey:
                        type: string
  '/purchase-order/{key}':
    get:
      summary: Display specified purchase order
      operationId: PurchaseOrderGet
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/PurchaseOrderResourceItem'
        '':
          $ref: '#/components/responses/DocumentResourceItem'
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
  /labors:
    get:
      summary: Display labor list
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/LaborResourceCollection'
      operationId: LaborSearch
  '/labors/{key}':
    parameters:
      - schema:
          type: string
        name: key
        in: path
        required: true
    get:
      summary: Display specified labor
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/LaborResourceItem'
      operationId: LaborGet
components:
  schemas:
    Site:
      type: object
      description: ''
      properties:
        key:
          description: Site key
          type: string
        name:
          description: Site name
          type: string
        lat:
          type: number
          format: double
          description: Site location latitude
        lng:
          type: number
          description: Site location longitude
          format: double
        address:
          type: string
          description: Site address
        properties:
          description: 'Key-value map for additional properties, e. g. IMO number'
          type: array
          items:
            type: string
        notes:
          type: string
          format: text
          description: Notes to asset in end-user's system
        createdAt:
          description: Time when entity was created
          format: date-time
          type: string
        updatedAt:
          type: string
          format: date-time
          description: Time when entity was last modified
        deletedAt:
          type: string
          format: date-time
          description: Time when entity was deleted/archived
      required:
        - key
        - name
        - createdAt
        - updatedAt
      title: ''
    Asset:
      title: ''
      type: object
      properties:
        key:
          description: Unique asset identifier
          type: string
        siteKey:
          type: string
          description: 'Identifier of site, which asset belongs to'
        parentKey:
          type: string
          description: Identifier of parent asset if any
        vendorKey:
          type: string
          description: 'Identifier of vendor, from which asset was purchased from'
        modelKey:
          type: string
          description: Identifier of asset model
        teamKey:
          type: string
          description: Identifier of team to which asset is assigned to
        documentKeys:
          type: array
          description: List of identifiers of documents related to asset
          items:
            type: string
        name:
          description: Name of asset
          type: string
        code:
          type: string
          description: 'Identifier of asset in end-users internal taxonomy, e. g. SFI Code or SKU'
        description:
          type: string
          description: Description of asset
        notes:
          type: string
          format: text
          description: Notes to asset in end-user's system
        categoryName:
          type: string
          description: Name of category asset is assigned to
        criticality:
          type: string
          description: Description of asset criticality
        isActive:
          type: boolean
          description: Identifies if asset is currently in use
        manufacturerName:
          type: string
          description: Name of asset manufacturer
        modelName:
          type: string
          description: Name of asset model
        serialNumber:
          type: string
          description: Serial number or barcode
        activatedAt:
          type: string
          format: date-time
          description: Time when asset was activated/enabled
        deactivatedAt:
          type: string
          format: date-time
          description: Time when asset was deactivated/disabled
        createdAt:
          type: string
          format: date-time
          description: Time when entity was created
        updatedAt:
          type: string
          format: date-time
          description: Time when entity was last modified
        deletedAt:
          type: string
          description: Time when entity was deleted/archived
          format: date-time
      required:
        - key
        - siteKey
        - name
        - isActive
        - createdAt
        - updatedAt
    WorkOrder:
      type: object
      properties:
        key:
          description: Work order key
          type: string
        siteKey:
          description: Equipment key
          type: string
        assetKey:
          type: string
        workRequestKey:
          type: string
        pmKey:
          type: string
        teamKey:
          type: string
        userAssignedKey:
          type: string
          format: date-time
        userCompletedKey:
          type: string
          format: date-time
        title:
          type: string
          format: text
        description:
          type: string
        instructions:
          type: string
          format: text
        status:
          type: string
        severity:
          type: string
        estimatedTime:
          type: integer
        roleName:
          type: string
        categoryName:
          type: string
        documentKey:
          type: string
        documentPage:
          type: string
        notes:
          type: string
          format: text
        approvedAt:
          type: string
          format: date-time
        dueAt:
          type: string
          format: date-time
        scheduledAt:
          type: string
          format: date-time
        completedAt:
          type: string
          format: date-time
        completionRemarks:
          type: string
          format: text
        parts:
          type: array
          items:
            $ref: '#/components/schemas/PartUsage'
        createdAt:
          type: string
          format: date-time
          description: Time when entity was created
        updatedAt:
          type: string
          format: date-time
          description: Time when entity was last modified
        deletedAt:
          type: string
          format: date-time
          description: Time when entity was deleted/archived
      required:
        - key
        - siteKey
        - assetKey
        - title
        - status
        - scheduledAt
        - createdAt
        - updatedAt
    Part:
      type: object
      x-examples: {}
      description: ''
      properties:
        key:
          type: string
          description: Unique team identifier
        siteKeys:
          type: array
          description: 'Identifiers of sites, which part belongs to'
          items:
            type: string
        parentKeys:
          type: string
          description: 'Identifier of assemblies, which part belongs to'
        vendorKeys:
          type: string
          description: 'Identifiers of vendors, supplying the part'
        documentKeys:
          type: array
          description: List of identifiers of documents related to part
          items:
            type: string
        code:
          type: string
          description: 'Identifier of part in end-users internal taxonomy, e. g. SFI Code or SKU'
        isAssembly:
          type: boolean
          description: Identifies if part is an assembly (contains nested parts)
        partNumber:
          type: string
          description: Part number
        name:
          type: string
          description: Name of part
        description:
          type: string
          format: text
          description: Description of part
        notes:
          type: string
          format: text
          description: Notes to part in end-user's system
        criticality:
          type: string
          description: Description of criticality
        isActive:
          type: boolean
          description: Identifies if part is currently in use
        manufacturerName:
          type: string
          description: Name of asset manufacturer
        minimumQuantity:
          type: number
          description: Minimal quanity of part
        uom:
          type: string
          description: Unit of measure
        cost:
          type: number
          description: Cost of purchase
          format: double
        currency:
          type: string
          description: Purchase currency
        createdAt:
          type: string
          description: Time when entity was created
          format: date-time
        updatedAt:
          type: string
          description: Time when entity was last modified
          format: date-time
        deletedAt:
          type: string
          description: Time when entity was deleted/archived
          format: date-time
        inventory:
          type: array
          items:
            $ref: '#/components/schemas/Inventory'
        drawings:
          type: array
          items:
            $ref: '#/components/schemas/Drawing'
      required:
        - key
        - siteKeys
        - isAssembly
        - partNumber
        - name
        - isActive
        - uom
    PurchaseOrder:
      type: object
      properties:
        key:
          description: Purchase order key
          type: string
        siteKey:
          type: string
        vendorKey:
          type: string
        orderNo:
          type: string
        orderDate:
          type: string
          format: date
        status:
          type: string
        warehouseName:
          type: string
        title:
          type: string
        description:
          type: string
        dueAt:
          type: string
          format: date-time
        approvedAt:
          type: string
          format: date-time
        completedAt:
          type: string
          format: date-time
        shippingMethod:
          type: string
        terms:
          type: string
          format: text
        notes:
          type: string
          format: text
        deliveryAddress:
          type: string
          format: address
        currency:
          type: string
        totalNetValue:
          type: number
          format: float
        totalTaxValue:
          type: number
          format: float
        totalGrossValue:
          type: number
          format: float
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        lines:
          type: array
          items:
            $ref: '#/components/schemas/LineItem'
      required:
        - key
        - createdAt
        - updatedAt
    PreventiveMaintenance:
      title: PreventiveMaintenance
      x-stoplight:
        id: k4tri9krv6784
      type: object
      properties:
        key:
          type: string
        siteKeys:
          type: string
        assetKeys:
          type: string
        teamKey:
          type: string
        title:
          type: string
        description:
          type: string
        instructions:
          type: string
        status:
          type: string
        severity:
          type: string
        estimatedTime:
          type: string
        roleName:
          type: string
        categoryName:
          type: string
        documentKey:
          type: string
        documentPage:
          type: string
        notes:
          type: string
          description: Notes to asset in end-user's system
          format: text
        dueAt:
          type: string
          format: date-time
        nextScheduledAt:
          type: string
        lastScheduledAt:
          type: string
        lastCompletedAt:
          type: string
        lastCompletionRemarks:
          type: string
          format: text
        parts:
          type: array
          items:
            $ref: '#/components/schemas/PartUsage'
        triggers:
          type: array
          items:
            $ref: '#/components/schemas/WorkTrigger'
        createdAt:
          type: string
          format: date-time
          description: Time when entity was created
        updatedAt:
          type: string
          format: date-time
          description: Time when entity was created
        deletedAt:
          type: string
          format: date-time
          description: Time when entity was deleted/archived
      required:
        - key
        - siteKeys
        - assetKeys
        - title
        - triggers
    Model:
      title: Model
      x-stoplight:
        id: d4srrmmj6n800
      type: object
      properties:
        key:
          type: string
          description: Unique model identifier
        siteKey:
          type: string
          description: 'Identifier of site, which model belongs to'
        documentKeys:
          type: array
          description: List of identifiers of documents related to model
          items:
            type: string
        name:
          type: string
          description: Model name
        manufacturerName:
          type: string
          description: Name of model manufacturer
        createdAt:
          type: string
          format: date-time
          description: Time when entity was created
        updatedAt:
          type: string
          format: date-time
          description: Time when entity was last modified
        deletedAt:
          type: string
          format: date-time
          description: Time when entity was deleted/archived
      required:
        - key
        - name
        - updatedAt
        - deletedAt
    Counter:
      title: Counter
      x-stoplight:
        id: 8tg0vgbjlplsy
      type: object
      properties:
        key:
          type: string
          description: Unique counter identifier
        assetKey:
          type: string
          description: 'Identifier of asset, which counter belongs to'
        siteKey:
          type: string
          description: 'Identifier of site, which counter belongs to'
        name:
          type: string
          description: Name of counter
        uom:
          type: string
          description: Unit of measure
        lastReading:
          type: number
          description: Value of counter
          format: double
        lastReadingAt:
          type: string
          format: date-time
          description: Time when last reading was updated
        createdAt:
          type: string
          format: date-time
          description: Time when entity was created
        updatedAt:
          type: string
          format: date-time
          description: Time when entity was last modified
        deletedAt:
          type: string
          format: date-time
          description: Time when entity was deleted/archived
      required:
        - key
        - assetKey
        - name
        - uom
        - createdAt
        - updatedAt
    Vendor:
      type: object
      properties:
        key:
          description: Vendor key
          type: string
        name:
          description: Vendor name
          type: string
        code:
          description: Vendor code in the system
          type: string
        address:
          $ref: '#/components/schemas/Address'
        currency:
          type: string
        notes:
          type: string
          format: text
          description: Notes to asset in end-user's system
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        deletedAt:
          type: string
          format: date-time
      required:
        - key
        - name
        - createdAt
        - updatedAt
        - deletedAt
    AssetDowntime:
      title: AssetDowntime
      x-stoplight:
        id: ohrkom3gil8m5
      type: object
      properties:
        key:
          type: string
          description: Unique asset identifier
        assetKey:
          type: string
          description: 'Identifier of site, which asset belongs to'
        description:
          type: string
          description: Downtime reason
        startedAt:
          type: string
          format: date-time
          description: Downtime start time
        endedAt:
          type: string
          format: date-time
          description: Downtime end time
        categoryName:
          type: string
          description: Downtime category description
        severity:
          type: string
          description: Downtime severity description
        notes:
          type: string
          format: text
          description: Notes in end-user's system
        createdAt:
          type: string
          description: Time when entity was created
          format: date-time
        updatedAt:
          type: string
          description: Time when entity was last modified
          format: date-time
      required:
        - key
        - assetKey
        - description
        - startedAt
        - endedAt
        - createdAt
        - updatedAt
    WorkRequest:
      title: WorkRequest
      x-stoplight:
        id: 8k2f7xuauuf4j
      type: object
      description: ''
      properties:
        key:
          type: string
        siteKey:
          type: string
        workOrderKey:
          type: string
        teamKey:
          type: string
        userRequestedKey:
          type: string
        userApprovedKey:
          type: string
        title:
          type: string
        description:
          type: string
        instructions:
          type: string
        status:
          type: string
        severity:
          type: string
        estimatedTime:
          type: string
        roleName:
          type: string
        categoryName:
          type: string
        documentKey:
          type: string
        documentPage:
          type: string
        notes:
          type: string
          format: text
          description: Notes to asset in end-user's system
        approvedAt:
          type: string
          format: date-time
        dueAt:
          type: string
          format: date-time
        parts:
          type: array
          description: array of PartUsage
          items:
            $ref: '#/components/schemas/PartUsage'
        createdAt:
          type: string
          description: Time when entity was created
        updatedAt:
          type: string
          description: Time when entity was last modified
        deletedAt:
          type: string
          description: Time when entity was deleted/archived
      required:
        - key
        - siteKey
        - title
        - status
        - createdAt
        - updatedAt
    CounterReading:
      title: CounterReading
      x-stoplight:
        id: n5zva0shvm8is
      type: object
      properties:
        key:
          type: string
          description: Unique counter identifier
        assetKey:
          type: string
          description: 'Identifier of asset, which counter belongs to'
        counterKey:
          type: string
          description: 'Identifier of counter, which reading belongs to'
        reading:
          type: number
          description: Value of counter
          format: double
        createdAt:
          type: string
          format: date-time
          description: Time when entity was created
      required:
        - key
        - assetKey
        - counterKey
        - createdAt
    Document:
      title: Document
      x-stoplight:
        id: ekmupujtgmw45
      type: object
      properties:
        key:
          type: string
        entityKeys:
          type: array
          items:
            type: string
        name:
          type: string
        url:
          type: string
        type:
          type: string
        contentType:
          type: string
        description:
          type: string
        notes:
          type: string
          format: text
          description: Notes to asset in end-user's system
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - key
        - name
        - url
        - createdAt
        - updatedAt
    Team:
      title: Team
      x-stoplight:
        id: d71bsbivzgftd
      type: object
      properties:
        key:
          type: string
          description: Unique team identifier
        code:
          type: string
          description: 'Identifier of part in end-users internal taxonomy, e. g. SFI Code or SKU'
        name:
          type: string
          description: Name of team
        description:
          type: string
          description: Description of team
          format: text
        createdAt:
          type: string
          format: date-time
          description: Time when entity was created
        updatedAt:
          type: string
          format: date-time
          description: Time when entity was last modified
        deletedAt:
          type: string
          description: Time when entity was deleted/archived
      required:
        - key
        - name
        - description
        - createdAt
        - updatedAt
    LineItem:
      type: object
      properties:
        assetKey:
          type: string
        partKey:
          type: string
        lineNo:
          type: string
        warehouseName:
          type: string
        code:
          type: string
        title:
          type: string
        description:
          type: string
        lineRef:
          type: string
        qty:
          type: number
          format: double
        uom:
          type: string
        cost:
          type: number
          format: double
        currency:
          type: string
        lineTotalValue:
          type: number
          format: double
        lineTaxValue:
          type: number
          format: double
        notes:
          type: string
          format: text
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - lineNo
        - title
        - description
        - qty
        - uom
        - createdAt
        - updatedAt
    Address:
      title: Address
      x-stoplight:
        id: mo3wgkk4lv3ql
      type: object
      properties:
        countryName:
          type: string
        addressLines:
          type: string
          format: text
        city:
          type: string
        postCode:
          type: string
        phone:
          type: string
        email:
          type: string
        notes:
          type: string
          format: text
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - createdAt
        - updatedAt
    Inventory:
      title: Inventory
      x-stoplight:
        id: 9a7kzrfw9cq9w
      type: object
      properties:
        code:
          type: string
          description: Identifier of inventory
        name:
          type: string
          description: Name of inventory (e. g. waregouse name)
        quantity:
          type: string
          description: Quantity of part available in inventory
        updatedAt:
          type: string
          description: Time when entity was last modified
          format: date-time
      required:
        - quantity
        - updatedAt
    Drawing:
      title: Drawing
      x-stoplight:
        id: qmk3hpqf6kd59
      type: object
      properties:
        drawingNo:
          type: string
          description: Drawing number
        drawingPos:
          type: string
          description: Position of part in the drawing
        referenceNo:
          type: string
          description: Number of reference list related to drawing
        referencePos:
          type: string
          description: Position of part in the reference list
        documentKey:
          type: string
          description: Identifier of document
        documentPage:
          type: string
          description: Page number where drawing is located in document
      required:
        - drawingNo
        - drawingPos
    PartUsage:
      title: PartUsage
      x-stoplight:
        id: 9krvn5omn0xhh
      type: object
      properties:
        partKeyid:
          type: string
        quantity:
          type: integer
      required:
        - partKeyid
        - quantity
    WorkTrigger:
      title: WorkTrigger
      x-stoplight:
        id: 55pbv0hfj6d9d
      type: object
      x-examples: {}
      properties:
        uom:
          type: string
          description: Unit of measure
        type:
          type: string
        interval:
          type: integer
        recurring:
          type: boolean
        dueAt:
          type: string
          format: date-time
      required:
        - uom
        - type
        - interval
        - recurring
    Labor:
      title: Labor
      x-stoplight:
        id: 5hl5dpggyvn2v
      type: object
      properties:
        key:
          type: string
          description: Unique Labor identifier
        siteKeys:
          type: array
          description: Identifiers of Sites on which labor is employed
          items:
            type: string
        locationKeys:
          type: array
          description: |-
            List of identifiers of Locations on 
            which labor is employed
          items:
            type: string
        accountKey:
          type: string
          description: Identifier of Account labor is related to
        teamKey:
          type: string
          description: Identifier of Team labor is related to
        userId:
          type: string
          description: Identifier of user account associated with labor
        name:
          type: string
          description: Name of labor
        roleName:
          type: string
          description: Name of role
        description:
          type: string
          description: Description of labor
        notes:
          type: string
          description: Notes to labor in end-user's system
        isActive:
          type: boolean
          description: Identifies if labor is currently in use
        cost:
          type: number
          description: Labor cost
          format: double
        currency:
          type: string
          description: Currency
        createdAt:
          type: string
          description: Time when entity was created
          format: date-time
        updatedAt:
          type: string
          description: Time when entity was last modified
          format: date-time
        deletedAt:
          type: string
          description: Time when entity was deleted/archived
          format: date-time
      required:
        - key
        - siteKeys
        - name
  responses:
    AssetResourceCollection:
      description: Assets list
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Asset'
    AssetResourceItem:
      description: Asset entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Asset'
    LineItemResourceCollection:
      description: Line Item list
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/LineItem'
    LineItemResourceItem:
      description: Line Item entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/LineItem'
    PartResourceCollection:
      description: Part list
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Part'
    PartResourceItem:
      description: Part entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Part'
    SiteResourceCollection:
      description: Site list
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Site'
    SiteResourceItem:
      description: Site entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Site'
    VendorResourceCollection:
      description: Vendor list
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Vendor'
    VendorResourceItem:
      description: Vendor entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Vendor'
    WorkOrderResourceCollection:
      description: Work order list
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/WorkOrder'
    WorkOrderResourceItem:
      description: Work order entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/WorkOrder'
    AssetDowntimeResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/AssetDowntime'
    AssetDowntimeResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AssetDowntime'
    ModelResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Model'
    ModelResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Model'
    CounterResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Counter'
    CounterResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Counter'
    CounterReadingResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/CounterReading'
    CounterReadingResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CounterReading'
    TeamResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Team'
    TeamResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Team'
    AddressResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Address'
    AddressResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Address'
    InventoryResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Inventory'
    InventoryResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Inventory'
    DrawingResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Drawing'
    DrawingResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Drawing'
    WorkRequestResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/WorkRequest'
    WorkRequestResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/WorkRequest'
    PreventiveMaintenanceResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/PreventiveMaintenance'
    PreventiveMaintenanceResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PreventiveMaintenance'
    DocumentResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Document'
    DocumentResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Document'
    PartUsageResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PartUsage'
    PartUsageResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/PartUsage'
    PurchaseOrderResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PurchaseOrder'
    PurchaseOrderResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/PurchaseOrder'
    WorkTriggerResourceItem:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/WorkTrigger'
    WorkTriggerResourceCollection:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/WorkTrigger'
    LaborResourceCollection:
      description: Labor list
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Labor'
    LaborResourceItem:
      description: Labor entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Labor'
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: 'https://api.makini.io/link/oauth/authorize'
          tokenUrl: 'https://api.makini.io/link/oauth/token'
          scopes: {}
security:
  - oauth2: []
servers:
  - url: 'https://api.makini.io'
    description: ''
